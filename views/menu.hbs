<link rel="stylesheet" href="css/menu-styles.css">
<link rel="stylesheet" href="css/chat-styles.css">


<div>
    <div class="menu-container">
        <div class="menu-center-name">
            <span>Kitty Combat</span>
            <lable>Toad-Titans</lable>
        </div>
        <div id="idMainMenuNavBtn" class="menu-center-navigation">
            <button id="btnNewGame" onclick="startPlay()">New Game</button>
            <button id="btnOptions" onclick="openOptionsClick()">Options</button>
            <button id="btnExit" onclick="#0">Exit</button>
        </div>

        <div id="idMainMenuOptions" class="menu-center-options">
            <span>OPTIONS</span>
            <button>Sound <i id="isSoundOn">ON</i></button>
            <button onclick="fullscreenTurnClick()">Fullscreen <i id="isFullscreenOn">OFF</i></button>
            <button>Chat History</button>
            <button onclick="closeOptionsClick()">Back</button>
        </div>
    </div>



    <div class="chat-container">
        <div id="chatContainerMenu">
            <!-- Chat Messages Place -->
        </div>
        <div class="chat-container-inp_btn">
            <input id="inputMessageMenu" placeholder="Type your message...">
            <button id="sendButtonMenu" onclick="sendMessageMenu()">Send</button>
        </div>
    </div>
</div>


{{!-- connecting the Socket.io library directly from CDN --}}
{{!-- (Content Delivery Network)  to work with game-chat --}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
<script>
    const socket = io();
    //const username = "Aswd";
    const username = prompt("Enter your username : ");
    socket.emit("menu-chat", username);
    
    function sendMessageMenu()
    {
        const msgElem = document.getElementById("inputMessageMenu");
        socket.emit("sendMessageMenu", msgElem.value);
        msgElem.value = '';
    
    }
</script>
<script src="js/chat.js"></script>

{{!-- SCRIPT FOR OPTIONS --}}
<script>
    function openOptionsClick()
    {
        document.getElementById("idMainMenuNavBtn").style.display = "none";
        document.getElementById("idMainMenuOptions").style.display = "grid";
    }
    function closeOptionsClick()
    {
        document.getElementById("idMainMenuNavBtn").style.display = "grid";
        document.getElementById("idMainMenuOptions").style.display = "none";
    }

    function fullscreenTurnClick()
    {
        const elem = document.getElementById("isFullscreenOn");
        if (document.fullscreenElement)
        {
            elem.innerText = "OFF";
            elem.style.color = "red";
            document.exitFullscreen();
        }
        else
        {
            elem.innerText = "ON";
            elem.style.color = "green";
            document.documentElement.requestFullscreen();
        }
    }

</script>
{{!-- SCRIPT FOR STARTPLAY --}}
<script>
    function startPlay()
    {
        window.location = window.location.pathname.split("/")[0] + "/game-room";
    }
</script>
